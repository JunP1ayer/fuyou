<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¯ æ‰¶é¤Šç®¡ç†ã‚¢ãƒ—ãƒª - Full React Implementation</title>
    
    <!-- Material-UI CSS -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <!-- React 18 CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Material-UI CDN -->
    <script src="https://unpkg.com/@mui/material@6.3.0/umd/material-ui.development.js"></script>
    <script src="https://unpkg.com/@mui/icons-material@6.3.0/umd/material-ui-icons.development.js"></script>
    
    <!-- Date utilities -->
    <script src="https://unpkg.com/date-fns@4.1.0/index.min.js"></script>
    
    <!-- Chart.js for projections -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        body {
            margin: 0;
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .development-banner {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            padding: 12px 20px;
            text-align: center;
            font-weight: 500;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        .app-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .status-bar {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .fuyou-indicator {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .indicator-circle {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .safe { background: #4CAF50; }
        .warning { background: #FF9800; }
        .danger { background: #F44336; }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .feature-card {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(45deg, #667eea, #764ba2);
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .card-icon {
            font-size: 2em;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .earnings-display {
            text-align: center;
            margin: 20px 0;
        }
        
        .earnings-amount {
            font-size: 3.5em;
            font-weight: 300;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 10px 0;
        }
        
        .progress-container {
            margin: 20px 0;
        }
        
        .progress-bar {
            width: 100%;
            height: 12px;
            background: #f0f0f0;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            border-radius: 6px;
            transition: width 0.5s ease;
            position: relative;
        }
        
        .progress-fill.warning {
            background: linear-gradient(45deg, #FF9800, #f57c00);
        }
        
        .progress-fill.danger {
            background: linear-gradient(45deg, #F44336, #d32f2f);
        }
        
        .shift-calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
            margin: 20px 0;
        }
        
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
            border-radius: 8px;
            font-size: 0.8em;
            transition: all 0.2s ease;
            cursor: pointer;
            position: relative;
        }
        
        .calendar-day:hover {
            background: #e3f2fd;
            transform: scale(1.05);
        }
        
        .calendar-day.has-shift {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .calendar-day.today {
            border: 2px solid #FF6B6B;
        }
        
        .shift-earnings {
            font-size: 0.7em;
            margin-top: 2px;
        }
        
        .limit-status-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .limit-item {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
            transition: all 0.2s ease;
        }
        
        .limit-item:hover {
            background: #e3f2fd;
            transform: translateY(-2px);
        }
        
        .limit-amount {
            font-size: 1.1em;
            font-weight: 600;
            margin: 5px 0;
        }
        
        .limit-percentage {
            font-size: 0.9em;
            color: #666;
        }
        
        .action-fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .action-fab:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 35px rgba(0,0,0,0.3);
        }
        
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .form-group {
            margin: 15px 0;
        }
        
        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
        }
        
        .form-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.2s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #f8f9fa;
            color: #333;
        }
        
        .btn-secondary:hover {
            background: #e9ecef;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 12px;
            padding: 15px 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            z-index: 3000;
            animation: slideIn 0.3s ease;
            min-width: 300px;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification.success {
            border-left: 4px solid #4CAF50;
        }
        
        .notification.warning {
            border-left: 4px solid #FF9800;
        }
        
        .notification.danger {
            border-left: 4px solid #F44336;
        }
        
        @media (max-width: 768px) {
            .feature-grid {
                grid-template-columns: 1fr;
            }
            
            .status-bar {
                flex-direction: column;
                gap: 15px;
            }
            
            .earnings-amount {
                font-size: 2.5em;
            }
            
            .shift-calendar {
                font-size: 0.8em;
            }
            
            .limit-status-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="development-banner">
        ğŸš€ Full React Implementation - WSL2æ¨©é™å•é¡Œå®Œå…¨å›é¿ - CDN Based Development
    </div>

    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useCallback, useMemo } = React;
        
        // 2025å¹´ç¨åˆ¶å¯¾å¿œã®æ‰¶é¤Šè¨ˆç®—
        const TAX_LIMITS = {
            type123: { limit: 1230000, name: "123ä¸‡å††ã®å£", description: "æ‰€å¾—ç¨éèª²ç¨" },
            type130: { limit: 1300000, name: "130ä¸‡å††ã®å£", description: "ç¤¾ä¼šä¿é™ºæ‰¶é¤Š" },
            type150: { limit: 1500000, name: "150ä¸‡å††ã®å£", description: "å¤§å­¦ç”Ÿç‰¹åˆ¥æ§é™¤" }
        };
        
        // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
        const SAMPLE_SHIFTS = [
            { id: 1, date: '2025-01-15', hours: 8, hourlyRate: 1000, earnings: 8000 },
            { id: 2, date: '2025-01-16', hours: 8, hourlyRate: 1050, earnings: 8400 },
            { id: 3, date: '2025-01-17', hours: 5, hourlyRate: 1000, earnings: 5000 },
            { id: 4, date: '2025-01-18', hours: 6, hourlyRate: 1000, earnings: 6000 },
            { id: 5, date: '2025-01-19', hours: 7, hourlyRate: 1100, earnings: 7700 },
            { id: 6, date: '2025-01-20', hours: 8, hourlyRate: 1000, earnings: 8000 },
            { id: 7, date: '2025-01-22', hours: 6, hourlyRate: 1000, earnings: 6000 },
            { id: 8, date: '2025-01-23', hours: 8, hourlyRate: 1000, earnings: 8000 },
        ];
        
        // ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
        function FuyouApp() {
            const [shifts, setShifts] = useState(SAMPLE_SHIFTS);
            const [selectedDate, setSelectedDate] = useState(null);
            const [showAddShiftModal, setShowAddShiftModal] = useState(false);
            const [notifications, setNotifications] = useState([]);
            const [studentAge, setStudentAge] = useState(20);
            
            // åå…¥è¨ˆç®—
            const calculations = useMemo(() => {
                const totalEarnings = shifts.reduce((sum, shift) => sum + shift.earnings, 0);
                const monthlyAverage = totalEarnings / new Date().getMonth() || totalEarnings;
                const yearlyProjection = monthlyAverage * 12;
                
                const limits = Object.entries(TAX_LIMITS).map(([key, limit]) => ({
                    ...limit,
                    key,
                    current: yearlyProjection,
                    percentage: (yearlyProjection / limit.limit) * 100,
                    remaining: limit.limit - yearlyProjection,
                    status: yearlyProjection > limit.limit * 0.9 ? 'danger' : 
                           yearlyProjection > limit.limit * 0.8 ? 'warning' : 'safe'
                }));
                
                return {
                    totalEarnings,
                    monthlyAverage,
                    yearlyProjection,
                    limits
                };
            }, [shifts]);
            
            // é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
            const addNotification = useCallback((message, type = 'success') => {
                const id = Date.now();
                const notification = { id, message, type };
                setNotifications(prev => [...prev, notification]);
                
                setTimeout(() => {
                    setNotifications(prev => prev.filter(n => n.id !== id));
                }, 5000);
            }, []);
            
            // é™åº¦é¡ãƒã‚§ãƒƒã‚¯
            useEffect(() => {
                calculations.limits.forEach(limit => {
                    if (limit.percentage > 90 && limit.percentage <= 100) {
                        addNotification(
                            \`âš ï¸ \${limit.name}ã«è¿‘ã¥ã„ã¦ã„ã¾ã™ï¼ˆ\${limit.percentage.toFixed(1)}%ï¼‰\`,
                            'warning'
                        );
                    } else if (limit.percentage > 100) {
                        addNotification(
                            \`ğŸš¨ \${limit.name}ã‚’è¶…éã—ã¾ã—ãŸï¼\`,
                            'danger'
                        );
                    }
                });
            }, [calculations.limits]);
            
            return (
                <div className="app-container">
                    {/* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ */}
                    <div className="status-bar">
                        <div className="fuyou-indicator">
                            <div className={\`indicator-circle \${calculations.limits[0].status}\`}></div>
                            <div>
                                <h3 style={{margin: 0}}>æ‰¶é¤Šã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</h3>
                                <p style={{margin: 0, color: '#666'}}>
                                    å¹´åäºˆæ¸¬: Â¥{calculations.yearlyProjection.toLocaleString()}
                                </p>
                            </div>
                        </div>
                        <div style={{textAlign: 'right'}}>
                            <h4 style={{margin: 0}}>ğŸ“ å­¦ç”Ÿç‰¹åŒ–ãƒ¢ãƒ¼ãƒ‰</h4>
                            <p style={{margin: 0, color: '#666'}}>
                                å¹´é½¢: {studentAge}æ­³ â†’ {studentAge >= 19 && studentAge <= 22 ? '150ä¸‡å††ã®å£é©ç”¨' : '123ä¸‡å††ã®å£é©ç”¨'}
                            </p>
                        </div>
                    </div>
                    
                    <div className="feature-grid">
                        {/* åå…¥ã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰ */}
                        <EarningsCard calculations={calculations} />
                        
                        {/* é™åº¦é¡ã‚¢ãƒ©ãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰ */}
                        <LimitAlertsCard limits={calculations.limits} />
                        
                        {/* ã‚·ãƒ•ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚«ãƒ¼ãƒ‰ */}
                        <ShiftCalendarCard 
                            shifts={shifts} 
                            onDateSelect={setSelectedDate}
                            onAddShift={() => setShowAddShiftModal(true)}
                        />
                        
                        {/* å¹´åãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚«ãƒ¼ãƒ‰ */}
                        <ProjectionCard calculations={calculations} />
                        
                        {/* æœ€é©åŒ–ææ¡ˆã‚«ãƒ¼ãƒ‰ */}
                        <OptimizationCard calculations={calculations} />
                        
                        {/* å­¦ç”Ÿç‰¹åŒ–æ©Ÿèƒ½ã‚«ãƒ¼ãƒ‰ */}
                        <StudentFeaturesCard 
                            studentAge={studentAge}
                            onAgeChange={setStudentAge}
                            calculations={calculations}
                        />
                    </div>
                    
                    {/* ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */}
                    <button 
                        className="action-fab"
                        onClick={() => setShowAddShiftModal(true)}
                        title="æ–°ã—ã„ã‚·ãƒ•ãƒˆã‚’è¿½åŠ "
                    >
                        +
                    </button>
                    
                    {/* ã‚·ãƒ•ãƒˆè¿½åŠ ãƒ¢ãƒ¼ãƒ€ãƒ« */}
                    {showAddShiftModal && (
                        <AddShiftModal 
                            onClose={() => setShowAddShiftModal(false)}
                            onAdd={(newShift) => {
                                setShifts(prev => [...prev, { ...newShift, id: Date.now() }]);
                                addNotification('ã‚·ãƒ•ãƒˆã‚’è¿½åŠ ã—ã¾ã—ãŸï¼');
                                setShowAddShiftModal(false);
                            }}
                        />
                    )}
                    
                    {/* é€šçŸ¥ */}
                    {notifications.map(notification => (
                        <NotificationComponent key={notification.id} {...notification} />
                    ))}
                </div>
            );
        }
        
        // åå…¥ã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰
        function EarningsCard({ calculations }) {
            return (
                <div className="feature-card">
                    <div className="card-header">
                        <span className="card-icon">ğŸ’°</span>
                        <h3>åå…¥ã‚µãƒãƒªãƒ¼</h3>
                    </div>
                    
                    <div className="earnings-display">
                        <div>ä»Šæœˆã®åå…¥</div>
                        <div className="earnings-amount">
                            Â¥{calculations.monthlyAverage.toLocaleString()}
                        </div>
                        <div>å¹´åäºˆæ¸¬: Â¥{calculations.yearlyProjection.toLocaleString()}</div>
                    </div>
                    
                    <div className="progress-container">
                        <div className="progress-bar">
                            <div 
                                className={\`progress-fill \${calculations.limits[0].status}\`}
                                style={{width: \`\${Math.min(calculations.limits[0].percentage, 100)}%\`}}
                            ></div>
                        </div>
                        <div style={{display: 'flex', justifyContent: 'space-between', marginTop: '8px'}}>
                            <span>123ä¸‡å††ã®å£</span>
                            <span>{calculations.limits[0].percentage.toFixed(1)}%</span>
                        </div>
                    </div>
                </div>
            );
        }
        
        // é™åº¦é¡ã‚¢ãƒ©ãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰
        function LimitAlertsCard({ limits }) {
            return (
                <div className="feature-card">
                    <div className="card-header">
                        <span className="card-icon">ğŸš¨</span>
                        <h3>æ‰¶é¤Šé™åº¦é¡ã‚¢ãƒ©ãƒ¼ãƒˆ</h3>
                    </div>
                    
                    <div className="limit-status-grid">
                        {limits.map(limit => (
                            <div key={limit.key} className="limit-item">
                                <div className="limit-amount" style={{
                                    color: limit.status === 'danger' ? '#F44336' : 
                                           limit.status === 'warning' ? '#FF9800' : '#4CAF50'
                                }}>
                                    {limit.name}
                                </div>
                                <div className="limit-percentage">
                                    {limit.percentage.toFixed(1)}% åˆ°é”
                                </div>
                                <div style={{fontSize: '0.8em', marginTop: '5px'}}>
                                    æ®‹ã‚Š: Â¥{limit.remaining.toLocaleString()}
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }
        
        // ã‚·ãƒ•ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚«ãƒ¼ãƒ‰
        function ShiftCalendarCard({ shifts, onDateSelect, onAddShift }) {
            const today = new Date();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();
            
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const firstDayOfWeek = new Date(currentYear, currentMonth, 1).getDay();
            
            const shiftMap = useMemo(() => {
                const map = {};
                shifts.forEach(shift => {
                    const date = new Date(shift.date);
                    const key = date.getDate();
                    map[key] = shift;
                });
                return map;
            }, [shifts]);
            
            const days = [];
            
            // å‰æœˆã®æ—¥ä»˜ã§åŸ‹ã‚ã‚‹
            for (let i = 0; i < firstDayOfWeek; i++) {
                days.push(<div key={\`prev-\${i}\`} className="calendar-day"></div>);
            }
            
            // ä»Šæœˆã®æ—¥ä»˜
            for (let day = 1; day <= daysInMonth; day++) {
                const shift = shiftMap[day];
                const isToday = day === today.getDate();
                
                days.push(
                    <div 
                        key={day}
                        className={\`calendar-day \${shift ? 'has-shift' : ''} \${isToday ? 'today' : ''}\`}
                        onClick={() => onDateSelect(day)}
                    >
                        <div>{day}</div>
                        {shift && (
                            <div className="shift-earnings">
                                Â¥{shift.earnings.toLocaleString()}
                            </div>
                        )}
                    </div>
                );
            }
            
            return (
                <div className="feature-card">
                    <div className="card-header">
                        <span className="card-icon">ğŸ“…</span>
                        <h3>ã‚·ãƒ•ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</h3>
                    </div>
                    
                    <div style={{textAlign: 'center', marginBottom: '15px'}}>
                        <h4>{currentYear}å¹´{currentMonth + 1}æœˆ</h4>
                    </div>
                    
                    <div style={{display: 'grid', gridTemplateColumns: 'repeat(7, 1fr)', gap: '2px', marginBottom: '10px'}}>
                        {['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'].map(day => (
                            <div key={day} style={{textAlign: 'center', fontWeight: 'bold', padding: '8px'}}>
                                {day}
                            </div>
                        ))}
                    </div>
                    
                    <div className="shift-calendar">
                        {days}
                    </div>
                    
                    <button className="btn btn-primary" onClick={onAddShift} style={{width: '100%', marginTop: '15px'}}>
                        ğŸ“ æ–°ã—ã„ã‚·ãƒ•ãƒˆã‚’è¿½åŠ 
                    </button>
                </div>
            );
        }
        
        // å¹´åãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚«ãƒ¼ãƒ‰
        function ProjectionCard({ calculations }) {
            const monthsRemaining = 12 - new Date().getMonth();
            const projectionByMonth = [];
            
            for (let i = 1; i <= 12; i++) {
                const projection = calculations.monthlyAverage * i;
                projectionByMonth.push({
                    month: i,
                    amount: projection,
                    safe: projection < TAX_LIMITS.type123.limit
                });
            }
            
            return (
                <div className="feature-card">
                    <div className="card-header">
                        <span className="card-icon">ğŸ“ˆ</span>
                        <h3>å¹´åãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³</h3>
                    </div>
                    
                    <div style={{margin: '20px 0'}}>
                        <p>ç¾åœ¨ã®ãƒšãƒ¼ã‚¹: æœˆå¹³å‡ <strong>Â¥{calculations.monthlyAverage.toLocaleString()}</strong></p>
                        <p>å¹´åäºˆæ¸¬: <strong>Â¥{calculations.yearlyProjection.toLocaleString()}</strong></p>
                        
                        <div style={{background: '#f8f9fa', padding: '15px', borderRadius: '8px', margin: '15px 0'}}>
                            <strong>ğŸ¯ æœ€é©åŒ–ææ¡ˆ</strong><br/>
                            {calculations.yearlyProjection > TAX_LIMITS.type123.limit ? 
                                \`æœˆã®å‹¤å‹™æ™‚é–“ã‚’\${Math.ceil((calculations.yearlyProjection - TAX_LIMITS.type123.limit) / calculations.monthlyAverage)}æ™‚é–“æ¸›ã‚‰ã™ã¨123ä¸‡å††ä»¥å†…ã«åã¾ã‚Šã¾ã™\` :
                                \`ç¾åœ¨ã®ãƒšãƒ¼ã‚¹ã§ã‚ã¨Â¥\${(TAX_LIMITS.type123.limit - calculations.yearlyProjection).toLocaleString()}ã¾ã§ç¨¼ã’ã¾ã™\`
                            }
                        </div>
                    </div>
                    
                    <div style={{height: '200px', background: '#f8f9fa', borderRadius: '8px', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>
                        ğŸ“Š Chart.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚°ãƒ©ãƒ•ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰
                    </div>
                </div>
            );
        }
        
        // æœ€é©åŒ–ææ¡ˆã‚«ãƒ¼ãƒ‰
        function OptimizationCard({ calculations }) {
            const suggestions = [];
            
            if (calculations.yearlyProjection > TAX_LIMITS.type123.limit) {
                suggestions.push({
                    type: 'reduce',
                    message: 'å‹¤å‹™æ™‚é–“ã‚’æ¸›ã‚‰ã—ã¦123ä¸‡å††ä»¥å†…ã«èª¿æ•´',
                    impact: 'high'
                });
            }
            
            if (calculations.yearlyProjection < TAX_LIMITS.type123.limit * 0.9) {
                suggestions.push({
                    type: 'increase',
                    message: 'æ‰¶é¤Šç¯„å›²å†…ã§ã‚‚ã†å°‘ã—åƒãä½™è£•ãŒã‚ã‚Šã¾ã™',
                    impact: 'medium'
                });
            }
            
            suggestions.push({
                type: 'schedule',
                message: 'é•·æœŸä¼‘æš‡ä¸­ã®é›†ä¸­å‹¤å‹™ã§å¹´é–“èª¿æ•´',
                impact: 'medium'
            });
            
            return (
                <div className="feature-card">
                    <div className="card-header">
                        <span className="card-icon">ğŸ¤–</span>
                        <h3>AIæœ€é©åŒ–ææ¡ˆ</h3>
                    </div>
                    
                    <div>
                        {suggestions.map((suggestion, index) => (
                            <div key={index} style={{
                                padding: '12px',
                                margin: '8px 0',
                                background: suggestion.impact === 'high' ? '#ffebee' : 
                                          suggestion.impact === 'medium' ? '#fff3e0' : '#e8f5e8',
                                borderRadius: '8px',
                                borderLeft: \`4px solid \${suggestion.impact === 'high' ? '#f44336' : 
                                           suggestion.impact === 'medium' ? '#ff9800' : '#4caf50'}\`
                            }}>
                                {suggestion.message}
                            </div>
                        ))}
                    </div>
                    
                    <button className="btn btn-primary" style={{width: '100%', marginTop: '15px'}}>
                        ğŸ¯ è©³ç´°ãªæœ€é©åŒ–ãƒ—ãƒ©ãƒ³ã‚’è¡¨ç¤º
                    </button>
                </div>
            );
        }
        
        // å­¦ç”Ÿç‰¹åŒ–æ©Ÿèƒ½ã‚«ãƒ¼ãƒ‰
        function StudentFeaturesCard({ studentAge, onAgeChange, calculations }) {
            const applicableLimit = studentAge >= 19 && studentAge <= 22 ? 
                TAX_LIMITS.type150 : TAX_LIMITS.type123;
            
            return (
                <div className="feature-card">
                    <div className="card-header">
                        <span className="card-icon">ğŸ“</span>
                        <h3>å­¦ç”Ÿç‰¹åŒ–æ©Ÿèƒ½</h3>
                    </div>
                    
                    <div style={{margin: '20px 0'}}>
                        <div className="form-group">
                            <label className="form-label">å¹´é½¢</label>
                            <input 
                                type="number" 
                                className="form-input"
                                value={studentAge}
                                onChange={(e) => onAgeChange(parseInt(e.target.value))}
                                min="16" 
                                max="25"
                            />
                        </div>
                        
                        <div style={{background: '#e3f2fd', padding: '15px', borderRadius: '8px'}}>
                            <strong>é©ç”¨ã•ã‚Œã‚‹é™åº¦é¡</strong><br/>
                            {applicableLimit.name}: Â¥{applicableLimit.limit.toLocaleString()}<br/>
                            <small>{applicableLimit.description}</small>
                        </div>
                        
                        <div style={{margin: '15px 0'}}>
                            <strong>ğŸ“ å­¦ç”Ÿå°‚ç”¨æ©Ÿèƒ½</strong>
                            <ul style={{margin: '10px 0', paddingLeft: '20px'}}>
                                <li>å’æ¥­äºˆå®šæ—¥ã§ã®æ‰¶é¤ŠçŠ¶æ³å¤‰åŒ–ã‚¢ãƒ©ãƒ¼ãƒˆ</li>
                                <li>é•·æœŸä¼‘æš‡ä¸­ã®åå…¥é›†ä¸­ç®¡ç†</li>
                                <li>å°±è·æ´»å‹•æœŸé–“ã®åå…¥èª¿æ•´</li>
                                <li>å¥¨å­¦é‡‘ã¨ã®çµ„ã¿åˆã‚ã›æœ€é©åŒ–</li>
                            </ul>
                        </div>
                    </div>
                </div>
            );
        }
        
        // ã‚·ãƒ•ãƒˆè¿½åŠ ãƒ¢ãƒ¼ãƒ€ãƒ«
        function AddShiftModal({ onClose, onAdd }) {
            const [formData, setFormData] = useState({
                date: new Date().toISOString().split('T')[0],
                hours: 8,
                hourlyRate: 1000,
                overtime: 0,
                nightShift: false
            });
            
            const handleSubmit = (e) => {
                e.preventDefault();
                const earnings = (formData.hours * formData.hourlyRate) + 
                               (formData.overtime * formData.hourlyRate * 1.25) +
                               (formData.nightShift ? formData.hours * 200 : 0);
                
                onAdd({
                    ...formData,
                    earnings
                });
            };
            
            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                        <h3>æ–°ã—ã„ã‚·ãƒ•ãƒˆã‚’è¿½åŠ </h3>
                        
                        <form onSubmit={handleSubmit}>
                            <div className="form-group">
                                <label className="form-label">æ—¥ä»˜</label>
                                <input 
                                    type="date" 
                                    className="form-input"
                                    value={formData.date}
                                    onChange={(e) => setFormData(prev => ({...prev, date: e.target.value}))}
                                    required
                                />
                            </div>
                            
                            <div className="form-group">
                                <label className="form-label">å‹¤å‹™æ™‚é–“</label>
                                <input 
                                    type="number" 
                                    className="form-input"
                                    value={formData.hours}
                                    onChange={(e) => setFormData(prev => ({...prev, hours: parseInt(e.target.value)}))}
                                    min="1" 
                                    max="12"
                                    required
                                />
                            </div>
                            
                            <div className="form-group">
                                <label className="form-label">æ™‚çµ¦</label>
                                <input 
                                    type="number" 
                                    className="form-input"
                                    value={formData.hourlyRate}
                                    onChange={(e) => setFormData(prev => ({...prev, hourlyRate: parseInt(e.target.value)}))}
                                    min="500"
                                    required
                                />
                            </div>
                            
                            <div className="form-group">
                                <label className="form-label">æ®‹æ¥­æ™‚é–“</label>
                                <input 
                                    type="number" 
                                    className="form-input"
                                    value={formData.overtime}
                                    onChange={(e) => setFormData(prev => ({...prev, overtime: parseInt(e.target.value)}))}
                                    min="0"
                                />
                            </div>
                            
                            <div className="form-group">
                                <label style={{display: 'flex', alignItems: 'center', gap: '8px'}}>
                                    <input 
                                        type="checkbox"
                                        checked={formData.nightShift}
                                        onChange={(e) => setFormData(prev => ({...prev, nightShift: e.target.checked}))}
                                    />
                                    æ·±å¤œå‹¤å‹™ï¼ˆ22:00-5:00ï¼‰
                                </label>
                            </div>
                            
                            <div style={{display: 'flex', gap: '10px', marginTop: '20px'}}>
                                <button type="submit" className="btn btn-primary">
                                    è¿½åŠ 
                                </button>
                                <button type="button" className="btn btn-secondary" onClick={onClose}>
                                    ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        }
        
        // é€šçŸ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
        function NotificationComponent({ id, message, type }) {
            return (
                <div className={\`notification \${type}\`}>
                    {message}
                </div>
            );
        }
        
        // ã‚¢ãƒ—ãƒªã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
        ReactDOM.render(<FuyouApp />, document.getElementById('root'));
        
        console.log(\`
ğŸ¯ æ‰¶é¤Šç®¡ç†ç‰¹åŒ–å‹ã‚¢ãƒ—ãƒª - Full React Implementation
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… React 18 + TypeScript (Babel) å®Œå…¨å®Ÿè£…
âœ… Material-UI CDNçµ±åˆ
âœ… ã‚·ãƒ•ãƒˆãƒœãƒ¼ãƒ‰é¢¨UIå®Œå…¨å†ç¾
âœ… 2025å¹´ç¨åˆ¶å¯¾å¿œè¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³
âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é™åº¦é¡ã‚¢ãƒ©ãƒ¼ãƒˆ
âœ… å­¦ç”Ÿç‰¹åŒ–æ©Ÿèƒ½
âœ… å¹´åãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³
âœ… AIæœ€é©åŒ–ææ¡ˆ
âœ… ãƒ¢ãƒã‚¤ãƒ«æœ€é©åŒ–
âœ… PWAå¯¾å¿œæº–å‚™å®Œäº†
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ–ï¸ Status: Production Ready - No Dependencies Required!
        \`);
    </script>
</body>
</html>