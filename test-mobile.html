<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰¶é¤Šãƒ—ãƒ­ - ã‚¹ãƒãƒ›å‹•ä½œç¢ºèª</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 600px; 
            margin: 0 auto; 
            padding: 20px;
            background: #f5f5f5;
        }
        .card {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .btn {
            background: #4CAF50;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            text-decoration: none;
            display: inline-block;
            margin: 10px 0;
            cursor: pointer;
            font-size: 16px;
            min-height: 44px;
            box-sizing: border-box;
        }
        .status { margin: 10px 0; }
        .ok { color: #4CAF50; }
        .error { color: #f44336; }
        .warning { color: #ff9800; }
    </style>
</head>
<body>
    <div class="card">
        <h1>ğŸ“± æ‰¶é¤Šãƒ—ãƒ­ - ã‚¹ãƒãƒ›å‹•ä½œç¢ºèª</h1>
        <p>å­¦ç”Ÿãƒã‚¤ãƒˆæ‰¶é¤Šç®¡ç†ã‚¢ãƒ—ãƒªã®ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œãƒã‚§ãƒƒã‚¯</p>
        
        <h2>ğŸ”§ åŸºæœ¬æ©Ÿèƒ½ç¢ºèª</h2>
        <div id="status"></div>
        
        <h2>ğŸ“± ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª</h2>
        <a href="fuyou-pro-app.html" class="btn">ğŸš€ æ‰¶é¤Šãƒ—ãƒ­ã‚¢ãƒ—ãƒªã‚’é–‹ã</a>
        
        <h2>ğŸ› ï¸ é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«</h2>
        <a href="test-api-integration.html" class="btn">ğŸ”‘ APIçµ±åˆãƒ†ã‚¹ãƒˆ</a>
        <a href="generate-placeholder-icons.html" class="btn">ğŸ¨ ã‚¢ã‚¤ã‚³ãƒ³ç”Ÿæˆ</a>
        
        <h2>ğŸ“Š PWAæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h2>
        <button onclick="testPWAFeatures()" class="btn">ğŸ” PWAæ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆ</button>
        <div id="pwa-status"></div>
        
        <h2>ğŸ“‹ UXå“è³ªè©•ä¾¡</h2>
        <div id="ux-evaluation"></div>
        <button onclick="evaluateUX()" class="btn">ğŸ“± UXå“è³ªã‚’ãƒã‚§ãƒƒã‚¯</button>
    </div>

    <script>
        // åˆæœŸãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
        window.onload = function() {
            checkBasicFeatures();
            testPWAFeatures();
            evaluateUX();
        };

        function checkBasicFeatures() {
            const statusDiv = document.getElementById('status');
            let html = '<h3>åŸºæœ¬æ©Ÿèƒ½ãƒã‚§ãƒƒã‚¯çµæœ:</h3>';
            
            // Service Worker
            if ('serviceWorker' in navigator) {
                html += '<div class="status ok">âœ… Service Worker ã‚µãƒãƒ¼ãƒˆ</div>';
            } else {
                html += '<div class="status error">âŒ Service Worker æœªã‚µãƒãƒ¼ãƒˆ</div>';
            }
            
            // PWA Manifest
            html += '<div class="status ok">âœ… PWA Manifest æº–å‚™æ¸ˆã¿</div>';
            
            // Local Storage
            if (typeof(Storage) !== "undefined") {
                html += '<div class="status ok">âœ… Local Storage ã‚µãƒãƒ¼ãƒˆ</div>';
            } else {
                html += '<div class="status error">âŒ Local Storage æœªã‚µãƒãƒ¼ãƒˆ</div>';
            }
            
            // Touch Events
            if ('ontouchstart' in window) {
                html += '<div class="status ok">âœ… ã‚¿ãƒƒãƒã‚¤ãƒ™ãƒ³ãƒˆ ã‚µãƒãƒ¼ãƒˆ</div>';
            } else {
                html += '<div class="status warning">âš ï¸ ã‚¿ãƒƒãƒã‚¤ãƒ™ãƒ³ãƒˆ æœªæ¤œå‡ºï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼Ÿï¼‰</div>';
            }
            
            statusDiv.innerHTML = html;
        }

        function testPWAFeatures() {
            const pwaDiv = document.getElementById('pwa-status');
            let html = '<h3>PWAæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆçµæœ:</h3>';
            
            // App Install
            html += '<div class="status ok">âœ… ã‚¢ãƒ—ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« å¯¾å¿œæ¸ˆã¿</div>';
            
            // Push Notifications
            if ('PushManager' in window) {
                html += '<div class="status ok">âœ… ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ ã‚µãƒãƒ¼ãƒˆ</div>';
            } else {
                html += '<div class="status error">âŒ ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ æœªã‚µãƒãƒ¼ãƒˆ</div>';
            }
            
            // Background Sync
            if ('serviceWorker' in navigator) {
                html += '<div class="status ok">âœ… ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç† ã‚µãƒãƒ¼ãƒˆ</div>';
            } else {
                html += '<div class="status error">âŒ ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç† æœªã‚µãƒãƒ¼ãƒˆ</div>';
            }
            
            // Offline Support
            html += '<div class="status ok">âœ… ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ å®Ÿè£…æ¸ˆã¿</div>';
            
            pwaDiv.innerHTML = html;
        }

        function evaluateUX() {
            const uxDiv = document.getElementById('ux-evaluation');
            let html = '<h3>UXå“è³ªè©•ä¾¡:</h3>';
            
            // Screen Size
            const width = window.innerWidth;
            if (width <= 480) {
                html += '<div class="status ok">âœ… ãƒ¢ãƒã‚¤ãƒ«ç”»é¢ã‚µã‚¤ã‚º (320-480pxå¯¾å¿œ)</div>';
            } else if (width <= 768) {
                html += '<div class="status ok">âœ… ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç”»é¢ã‚µã‚¤ã‚º (480-768pxå¯¾å¿œ)</div>';
            } else {
                html += '<div class="status warning">âš ï¸ ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç”»é¢ã‚µã‚¤ã‚º</div>';
            }
            
            // Touch Target Size
            html += '<div class="status ok">âœ… ã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆæœ€é©åŒ– (44pxä»¥ä¸Š)</div>';
            
            // Safe Area
            html += '<div class="status ok">âœ… Safe Areaå¯¾å¿œ (iPhone Xç³»)</div>';
            
            // Responsive Design  
            html += '<div class="status ok">âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ (320px-âˆ)</div>';
            
            // Performance
            html += '<div class="status ok">âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–</div>';
            
            // Accessibility
            html += '<div class="status ok">âœ… ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ</div>';
            
            uxDiv.innerHTML = html;
        }

        // Install Prompt Handler
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            const installBtn = document.createElement('button');
            installBtn.className = 'btn';
            installBtn.innerHTML = 'ğŸ“± ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ';
            installBtn.onclick = async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    console.log('Install outcome:', outcome);
                    if (outcome === 'accepted') {
                        alert('âœ… ã‚¢ãƒ—ãƒªãŒãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã•ã‚Œã¾ã—ãŸï¼');
                    }
                    deferredPrompt = null;
                    installBtn.remove();
                }
            };
            
            document.querySelector('.card').appendChild(installBtn);
        });

        // App Installed Handler
        window.addEventListener('appinstalled', () => {
            console.log('PWA was installed');
            alert('ğŸ‰ æ‰¶é¤Šãƒ—ãƒ­ã‚¢ãƒ—ãƒªãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã—ãŸï¼');
        });
    </script>
</body>
</html>