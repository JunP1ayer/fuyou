<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APIçµ±åˆãƒ†ã‚¹ãƒˆ</title>
</head>
<body>
    <h1>APIçµ±åˆãƒ†ã‚¹ãƒˆ</h1>
    <button onclick="testAPIIntegration()">APIã‚­ãƒ¼è‡ªå‹•å–å¾—ã‚’ãƒ†ã‚¹ãƒˆ</button>
    <div id="results"></div>

    <!-- å¿…è¦ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’èª­ã¿è¾¼ã¿ -->
    <script src="secure-config-loader.js"></script>
    <script src="config.js"></script>
    <script src="ai-vision-service.js"></script>
    <script src="gemini-vision-service.js"></script>

    <script>
        function testAPIIntegration() {
            const results = document.getElementById('results');
            results.innerHTML = '<h2>ãƒ†ã‚¹ãƒˆçµæœ:</h2>';
            
            try {
                // OpenAI Vision Service ãƒ†ã‚¹ãƒˆ
                const openaiService = new AIVisionService();
                const openaiAvailable = openaiService.isAvailable();
                results.innerHTML += `<p>OpenAI Service: ${openaiAvailable ? 'âœ… åˆ©ç”¨å¯èƒ½' : 'âŒ åˆ©ç”¨ä¸å¯'}</p>`;
                
                // Gemini Vision Service ãƒ†ã‚¹ãƒˆ
                const geminiService = new GeminiVisionService();
                const geminiAvailable = geminiService.isAvailable();
                results.innerHTML += `<p>Gemini Service: ${geminiAvailable ? 'âœ… åˆ©ç”¨å¯èƒ½' : 'âŒ åˆ©ç”¨ä¸å¯'}</p>`;
                
                // Secure Config ãƒ†ã‚¹ãƒˆ
                if (window.secureConfig) {
                    const openaiKey = window.secureConfig.getSecureKey('openai');
                    const geminiKey = window.secureConfig.getSecureKey('gemini');
                    results.innerHTML += `<p>OpenAI ã‚­ãƒ¼å–å¾—: ${openaiKey ? 'âœ… æˆåŠŸ' : 'âŒ å¤±æ•—'}</p>`;
                    results.innerHTML += `<p>Gemini ã‚­ãƒ¼å–å¾—: ${geminiKey ? 'âœ… æˆåŠŸ' : 'âŒ å¤±æ•—'}</p>`;
                } else {
                    results.innerHTML += `<p>âŒ SecureConfig ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“</p>`;
                }
                
                if (openaiAvailable && geminiAvailable) {
                    results.innerHTML += '<h3>ğŸ‰ ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§AIæ©Ÿèƒ½ãŒè‡ªå‹•åˆ©ç”¨å¯èƒ½ã§ã™ï¼</h3>';
                }
                
            } catch (error) {
                results.innerHTML += `<p>âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}</p>`;
            }
        }
    </script>
</body>
</html>