<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ã€ç¨ç†å£«ç›£ä¿®ã€‘æ‰¶é¤Šæ§é™¤ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ - æ‰¶é¤Šç®¡ç†ãƒ—ãƒ­</title>
    <!-- Cache busting: 2025-07-22T16:45 -->
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Roboto', 'Noto Sans JP', sans-serif;
        background: linear-gradient(135deg, #e8f5e8 0%, #f3e5f5 100%);
        min-height: 100vh;
        color: #1a1a1a;
        line-height: 1.6;
      }

      /* ãƒ˜ãƒƒãƒ€ãƒ¼ - Material Design 3 */
      .header {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
        padding: 20px 24px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #e0e0e0;
      }

      .header h1 {
        font-size: 26px;
        color: #1976d2;
        font-weight: 700;
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .header .badge {
        background: linear-gradient(135deg, #4caf50, #66bb6a);
        color: white;
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 12px;
        font-weight: 600;
        margin-left: 8px;
      }

      .nav-buttons {
        display: flex;
        gap: 16px;
      }

      .nav-btn {
        padding: 12px 20px;
        border: none;
        border-radius: 24px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .nav-btn.active {
        background: linear-gradient(135deg, #e74c3c, #c0392b);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(231, 76, 60, 0.3);
      }

      .nav-btn:not(.active) {
        background: #ffffff;
        color: #666;
        border: 2px solid #e0e0e0;
      }

      .nav-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      }

      /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
      .main-content {
        max-width: 1100px;
        margin: 24px auto;
        padding: 0 24px;
        display: grid;
        gap: 24px;
      }

      /* ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã‚«ãƒ¼ãƒ‰ */
      .professional-card {
        background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
        border-radius: 20px;
        padding: 32px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
        border: 1px solid rgba(25, 118, 210, 0.1);
        position: relative;
        overflow: hidden;
      }

      .professional-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #1976d2, #42a5f5, #4caf50);
      }

      .status-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 24px;
      }

      .status-title {
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 28px;
        font-weight: 700;
        color: #1976d2;
      }

      .certification-badge {
        background: linear-gradient(135deg, #ff6b35, #f7931e);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 0.5px;
        box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
      }

      .status-controls {
        display: flex;
        gap: 12px;
      }

      .control-btn {
        background: #f5f5f5;
        border: none;
        border-radius: 12px;
        padding: 12px;
        cursor: pointer;
        color: #1976d2;
        transition: all 0.3s ease;
        font-size: 18px;
      }

      .control-btn:hover {
        background: #e3f2fd;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(25, 118, 210, 0.2);
      }

      /* ãƒãƒ¬ãƒƒãƒˆãƒãƒ£ãƒ¼ãƒˆå¼é€²æ—è¡¨ç¤º */
      .bullet-chart {
        background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 32px;
        border: 1px solid #e0e0e0;
        position: relative;
      }

      .chart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
      }

      .chart-title {
        font-size: 20px;
        font-weight: 600;
        color: #2c3e50;
      }

      .percentage-display {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .percentage-value {
        font-size: 36px;
        font-weight: 800;
        color: #27ae60;
      }

      .percentage-value.warning { color: #f39c12; }
      .percentage-value.danger { color: #e74c3c; }

      .status-icon {
        font-size: 32px;
      }

      /* æ‹¡å¼µãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
      .enhanced-progress {
        position: relative;
        height: 16px;
        background: #ecf0f1;
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 16px;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #27ae60, #2ecc71);
        border-radius: 8px;
        transition: width 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
      }

      .progress-fill.warning {
        background: linear-gradient(90deg, #f39c12, #f1c40f);
      }

      .progress-fill.danger {
        background: linear-gradient(90deg, #e74c3c, #c0392b);
      }

      /* é–¾å€¤ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */
      .threshold-indicator {
        position: absolute;
        top: 0;
        height: 100%;
        width: 2px;
        background: rgba(52, 73, 94, 0.7);
        z-index: 2;
      }

      .threshold-70 { left: 70%; background: #f39c12; }
      .threshold-85 { left: 85%; background: #e74c3c; }

      .progress-labels {
        display: flex;
        justify-content: space-between;
        font-size: 14px;
        color: #7f8c8d;
        margin-top: 8px;
      }

      /* ãƒªã‚¹ã‚¯è©•ä¾¡ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
      .risk-assessment {
        background: linear-gradient(135deg, #fff9c4 0%, #ffecb3 100%);
        border-radius: 16px;
        padding: 24px;
        margin: 24px 0;
        border-left: 6px solid #ff9800;
      }

      .risk-header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 20px;
      }

      .risk-title {
        font-size: 22px;
        font-weight: 600;
        color: #e65100;
      }

      .risk-items {
        display: grid;
        gap: 16px;
      }

      .risk-item {
        background: rgba(255, 255, 255, 0.8);
        padding: 20px;
        border-radius: 12px;
        border-left: 4px solid #ff9800;
      }

      .risk-item.high {
        border-left-color: #e74c3c;
        background: rgba(255, 235, 238, 0.8);
      }

      .risk-item.medium {
        border-left-color: #f39c12;
        background: rgba(255, 249, 196, 0.8);
      }

      .risk-item-title {
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 8px;
        font-size: 16px;
      }

      .risk-description {
        color: #34495e;
        margin-bottom: 12px;
        line-height: 1.6;
      }

      .risk-recommendation {
        background: rgba(59, 130, 246, 0.1);
        padding: 12px 16px;
        border-radius: 8px;
        border-left: 3px solid #3b82f6;
      }

      .recommendation-label {
        font-weight: 600;
        color: #1e40af;
        font-size: 13px;
      }

      .recommendation-text {
        color: #1e3a8a;
        font-size: 14px;
      }

      /* ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚°ãƒªãƒƒãƒ‰ */
      .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 20px;
        margin: 32px 0;
      }

      .metric-card {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        padding: 24px;
        border-radius: 16px;
        text-align: center;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
        border: 1px solid #e9ecef;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .metric-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      }

      .metric-value {
        font-size: 28px;
        font-weight: 800;
        margin-bottom: 8px;
        color: #2c3e50;
      }

      .metric-value.success { color: #27ae60; }
      .metric-value.primary { color: #3498db; }
      .metric-value.warning { color: #f39c12; }
      .metric-value.danger { color: #e74c3c; }

      .metric-label {
        font-size: 13px;
        color: #7f8c8d;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        font-weight: 600;
      }

      /* æ³•çš„æ ¹æ‹ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
      .legal-section {
        background: linear-gradient(135deg, #e8f4fd 0%, #bbdefb 100%);
        border-radius: 16px;
        padding: 24px;
        margin: 24px 0;
        border: 1px solid #90caf9;
      }

      .legal-header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 16px;
      }

      .legal-title {
        font-size: 20px;
        font-weight: 600;
        color: #1565c0;
      }

      .legal-content {
        display: grid;
        gap: 12px;
        font-size: 14px;
        color: #1e88e5;
      }

      .legal-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 0;
        border-bottom: 1px solid rgba(21, 101, 192, 0.1);
      }

      .legal-item:last-child {
        border-bottom: none;
      }

      /* äºˆæ¸¬ã‚¢ãƒ©ãƒ¼ãƒˆ */
      .prediction-alert {
        background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
        border: 1px solid #ef5350;
        border-radius: 16px;
        padding: 20px;
        margin: 24px 0;
        position: relative;
      }

      .prediction-alert::before {
        content: 'âš ï¸';
        position: absolute;
        top: -10px;
        left: 20px;
        background: #ffffff;
        padding: 0 8px;
        font-size: 20px;
      }

      .alert-title {
        font-size: 18px;
        font-weight: 700;
        color: #c62828;
        margin-bottom: 8px;
      }

      .alert-content {
        color: #d32f2f;
        line-height: 1.6;
      }

      .alert-action {
        background: rgba(198, 40, 40, 0.1);
        padding: 12px 16px;
        border-radius: 8px;
        margin-top: 12px;
        border-left: 4px solid #c62828;
      }

      .action-label {
        font-weight: 600;
        color: #b71c1c;
        font-size: 13px;
      }

      /* ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚° */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
      }

      .modal {
        background: white;
        border-radius: 20px;
        padding: 32px;
        max-width: 600px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
      }

      .modal-title {
        font-size: 24px;
        font-weight: 700;
        color: #2c3e50;
      }

      .modal-close {
        background: none;
        border: none;
        font-size: 28px;
        cursor: pointer;
        color: #95a5a6;
        padding: 4px;
        border-radius: 8px;
        transition: all 0.3s ease;
      }

      .modal-close:hover {
        background: #ecf0f1;
        color: #34495e;
      }

      /* è¨ˆç®—è©³ç´°ãƒ†ãƒ¼ãƒ–ãƒ« */
      .calculation-table {
        width: 100%;
        border-collapse: collapse;
        margin: 16px 0;
      }

      .calculation-table th,
      .calculation-table td {
        padding: 12px 16px;
        text-align: left;
        border-bottom: 1px solid #e0e0e0;
      }

      .calculation-table th {
        background: #f8f9fa;
        font-weight: 600;
        color: #2c3e50;
      }

      .calculation-table td {
        color: #34495e;
      }

      .calculation-table tr:hover {
        background: #f8f9fa;
      }

      /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
      @media (max-width: 768px) {
        .main-content {
          padding: 0 16px;
        }
        
        .professional-card {
          padding: 20px;
        }
        
        .metrics-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 16px;
        }
        
        .status-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 16px;
        }

        .percentage-value {
          font-size: 28px;
        }

        .modal {
          padding: 20px;
          max-width: 95%;
        }
      }
    </style>
  </head>
  <body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="header">
      <div>
        <h1>
          ğŸ›ï¸ æ‰¶é¤Šæ§é™¤ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
          <span class="badge">ç¨ç†å£«ç›£ä¿®</span>
        </h1>
      </div>
      <nav class="nav-buttons">
        <a href="calendar-main.html" class="nav-btn">ğŸ“… ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</a>
        <a href="#" class="nav-btn active">ğŸ“Š æ‰¶é¤ŠçŠ¶æ³</a>
      </nav>
    </header>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <main class="main-content">
      <!-- ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«æ‰¶é¤Šã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚«ãƒ¼ãƒ‰ -->
      <div class="professional-card">
        <div class="status-header">
          <div class="status-title">
            <span>âš–ï¸</span>
            æ‰¶é¤Šæ§é™¤ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€2025å¹´åº¦ç¨åˆ¶å¯¾å¿œã€‘
          </div>
          <div class="certification-badge">
            ç¨ç†å£«ç›£ä¿®æ¸ˆã¿
          </div>
          <div class="status-controls">
            <button class="control-btn" onclick="openCalculationModal()" title="è¨ˆç®—æ ¹æ‹ ãƒ»æ³•çš„è©³ç´°">
              ğŸ§®
            </button>
            <button class="control-btn" onclick="openScenarioModal()" title="ã‚·ãƒŠãƒªã‚ªåˆ†æ">
              ğŸ”®
            </button>
          </div>
        </div>

        <!-- ãƒãƒ¬ãƒƒãƒˆãƒãƒ£ãƒ¼ãƒˆå¼é€²æ—è¡¨ç¤º -->
        <div class="bullet-chart">
          <div class="chart-header">
            <div class="chart-title">æ‰¶é¤Šé™åº¦é¡ä½¿ç”¨ç‡</div>
            <div class="percentage-display">
              <div class="percentage-value" id="usagePercentage">63.1%</div>
              <div class="status-icon" id="statusIcon">ğŸ›¡ï¸</div>
            </div>
          </div>
          <div class="enhanced-progress">
            <div class="progress-fill" id="progressBar" style="width: 63.1%"></div>
            <div class="threshold-indicator threshold-70"></div>
            <div class="threshold-indicator threshold-85"></div>
          </div>
          <div class="progress-labels">
            <span>ç¾åœ¨: <strong id="currentIncome">Â¥650,000</strong></span>
            <span>é™åº¦é¡: <strong>Â¥1,030,000</strong></span>
          </div>
        </div>

        <!-- ãƒªã‚¹ã‚¯è©•ä¾¡ãƒ»å¯¾ç­–ææ¡ˆ -->
        <div class="risk-assessment">
          <div class="risk-header">
            <span>âš ï¸</span>
            <div class="risk-title">ãƒªã‚¹ã‚¯è©•ä¾¡ãƒ»å¯¾ç­–ææ¡ˆ</div>
          </div>
          <div class="risk-items">
            <div class="risk-item medium">
              <div class="risk-item-title">å¹´æœ«èª¿æ•´ã«ãŠã‘ã‚‹æ‰¶é¤Šæ§é™¤å¤±åŠ¹ãƒªã‚¹ã‚¯</div>
              <div class="risk-description">
                ç¾åœ¨ã®ãƒšãƒ¼ã‚¹ã§åå…¥ãŒç¶™ç¶šã—ãŸå ´åˆã€12æœˆæ™‚ç‚¹ã§é™åº¦é¡ã‚’è¶…éã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
              </div>
              <div class="risk-recommendation">
                <div class="recommendation-label">ç¨ç†å£«æ¨å¥¨å¯¾ç­–:</div>
                <div class="recommendation-text">æœˆé–“åå…¥ã‚’98,000å††ä»¥ä¸‹ã«èª¿æ•´ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™</div>
              </div>
            </div>
            <div class="risk-item high">
              <div class="risk-item-title">ç¤¾ä¼šä¿é™ºæ‰¶é¤Šèªå®šè§£é™¤ãƒªã‚¹ã‚¯</div>
              <div class="risk-description">
                æœˆå108,334å††è¶…éã«ã‚ˆã‚Šã€å¥åº·ä¿é™ºã®æ‰¶é¤Šã‹ã‚‰å¤–ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
              </div>
              <div class="risk-recommendation">
                <div class="recommendation-label">ç¨ç†å£«æ¨å¥¨å¯¾ç­–:</div>
                <div class="recommendation-text">ç›´è¿‘3ã‹æœˆã®å¹³å‡æœˆåã‚’10.8ä¸‡å††ä»¥ä¸‹ã«ç¶­æŒã—ã¦ãã ã•ã„</div>
              </div>
            </div>
          </div>
        </div>

        <!-- ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚°ãƒªãƒƒãƒ‰ -->
        <div class="metrics-grid">
          <div class="metric-card">
            <div class="metric-value success" id="remainingCapacity">Â¥380,000</div>
            <div class="metric-label">æ®‹ã‚Šåˆ©ç”¨å¯èƒ½é¡</div>
          </div>
          <div class="metric-card">
            <div class="metric-value primary" id="monthlyIncome">Â¥54,167</div>
            <div class="metric-label">ä»Šæœˆåå…¥</div>
          </div>
          <div class="metric-card">
            <div class="metric-value primary" id="monthlyTarget">Â¥85,833</div>
            <div class="metric-label">æœˆé–“ç›®æ¨™åå…¥</div>
          </div>
          <div class="metric-card">
            <div class="metric-value warning" id="yearProjection">Â¥980,000</div>
            <div class="metric-label">å¹´é–“äºˆæ¸¬åå…¥</div>
          </div>
        </div>

        <!-- äºˆæ¸¬ã‚¢ãƒ©ãƒ¼ãƒˆ -->
        <div class="prediction-alert" id="predictionAlert" style="display: none;">
          <div class="alert-title">æ‰¶é¤Šæ§é™¤å¤±åŠ¹äºˆæ¸¬ã‚¢ãƒ©ãƒ¼ãƒˆ</div>
          <div class="alert-content">
            ç¾åœ¨ã®ãƒšãƒ¼ã‚¹ã§åå…¥ãŒç¶™ç¶šã—ãŸå ´åˆã€å¹´é–“äºˆæ¸¬åå…¥ãŒé™åº¦é¡ã‚’
            <strong id="overageAmount">Â¥50,000</strong>è¶…éã—ã€æ‰¶é¤Šæ§é™¤ã®é©ç”¨ã‚’å—ã‘ã‚‰ã‚Œãªããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
          </div>
          <div class="alert-action">
            <div class="action-label">ç¨ç†å£«æ¨å¥¨å¯¾ç­–:</div>
            <div>æœˆé–“åå…¥ã‚’<strong id="recommendedMonthly">Â¥85,833</strong>ä»¥ä¸‹ã«èª¿æ•´</div>
          </div>
        </div>

        <!-- æ³•çš„æ ¹æ‹ ãƒ»é©ç”¨åˆ¶åº¦ -->
        <div class="legal-section">
          <div class="legal-header">
            <span>ğŸ“š</span>
            <div class="legal-title">æ³•çš„æ ¹æ‹ ãƒ»é©ç”¨åˆ¶åº¦</div>
          </div>
          <div class="legal-content">
            <div class="legal-item">
              <span>é©ç”¨åˆ¶åº¦</span>
              <strong>æ‰¶é¤Šæ§é™¤ï¼ˆä¸€èˆ¬ï¼‰</strong>
            </div>
            <div class="legal-item">
              <span>æ³•çš„æ ¹æ‹ </span>
              <strong>æ‰€å¾—ç¨æ³•ç¬¬2æ¡ç¬¬1é …ç¬¬34å·ã€åŒæ³•ç¬¬84æ¡</strong>
            </div>
            <div class="legal-item">
              <span>é™åº¦é¡æ ¹æ‹ </span>
              <strong>æ‰€å¾—ç¨æ³•æ–½è¡Œä»¤ç¬¬217æ¡ã®2</strong>
            </div>
            <div class="legal-item">
              <span>è¨ˆç®—åŸºæº–æ—¥</span>
              <strong id="calculationDate">2025å¹´7æœˆ22æ—¥</strong>
            </div>
            <div class="legal-item">
              <span>ç¨åˆ¶æ”¹æ­£å¯¾å¿œ</span>
              <strong>2025å¹´åº¦ç¨åˆ¶æ”¹æ­£å¯¾å¿œæ¸ˆã¿</strong>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- è¨ˆç®—æ ¹æ‹ ãƒ€ã‚¤ã‚¢ãƒ­ã‚° -->
    <div class="modal-overlay" id="calculationModal">
      <div class="modal">
        <div class="modal-header">
          <div class="modal-title">ğŸ§® è¨ˆç®—æ ¹æ‹ ãƒ»æ³•çš„è©³ç´°</div>
          <button class="modal-close" onclick="closeCalculationModal()">&times;</button>
        </div>
        <div class="modal-content">
          <h3>åå…¥åŒºåˆ†åˆ¥å†…è¨³</h3>
          <table class="calculation-table">
            <thead>
              <tr>
                <th>åå…¥åŒºåˆ†</th>
                <th>é‡‘é¡</th>
                <th>å‰²åˆ</th>
                <th>æ³•çš„æ ¹æ‹ </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <strong>çµ¦ä¸æ‰€å¾—</strong><br>
                  <small>åŸºæœ¬çµ¦ä¸ãƒ»è³ä¸ç­‰</small>
                </td>
                <td><strong>Â¥443,000</strong></td>
                <td>68.2%</td>
                <td><small>æ‰€å¾—ç¨æ³•ç¬¬28æ¡ç¬¬1é …</small></td>
              </tr>
              <tr>
                <td>
                  <strong>ã‚¢ãƒ«ãƒã‚¤ãƒˆæ‰€å¾—</strong><br>
                  <small>å¹´é–“ã‚¢ãƒ«ãƒã‚¤ãƒˆåå…¥</small>
                </td>
                <td><strong>Â¥153,000</strong></td>
                <td>23.5%</td>
                <td><small>æ‰€å¾—ç¨æ³•ç¬¬28æ¡ç¬¬1é …</small></td>
              </tr>
              <tr>
                <td>
                  <strong>é›‘æ‰€å¾—</strong><br>
                  <small>ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ãƒ»å‰¯æ¥­ç­‰</small>
                </td>
                <td><strong>Â¥54,000</strong></td>
                <td>8.3%</td>
                <td><small>æ‰€å¾—ç¨æ³•ç¬¬35æ¡</small></td>
              </tr>
            </tbody>
          </table>

          <h3 style="margin-top: 24px;">ç¨åˆ¶æ”¹æ­£ã«ã‚ˆã‚‹å¤‰æ›´ç‚¹ï¼ˆ2025å¹´åº¦ï¼‰</h3>
          <div style="background: #f8f9fa; padding: 16px; border-radius: 8px; margin-top: 12px;">
            <ul style="margin-left: 20px; color: #2c3e50;">
              <li>æ‰¶é¤Šæ§é™¤ã®åˆ¤å®šåŸºæº–ãŒä¸€éƒ¨å¤‰æ›´ã•ã‚Œã¾ã—ãŸ</li>
              <li>çµ¦ä¸æ‰€å¾—æ§é™¤ã®æ”¹æ­£ã«å¯¾å¿œæ¸ˆã¿ã§ã™</li>
              <li>ç¤¾ä¼šä¿é™ºã®æ‰¶é¤Šèªå®šåŸºæº–ã‚‚æœ€æ–°ç‰ˆã‚’é©ç”¨ã—ã¦ã„ã¾ã™</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- ã‚·ãƒŠãƒªã‚ªåˆ†æãƒ€ã‚¤ã‚¢ãƒ­ã‚° -->
    <div class="modal-overlay" id="scenarioModal">
      <div class="modal">
        <div class="modal-header">
          <div class="modal-title">ğŸ”® AIäºˆæ¸¬ã‚·ãƒŠãƒªã‚ªåˆ†æ</div>
          <button class="modal-close" onclick="closeScenarioModal()">&times;</button>
        </div>
        <div class="modal-content">
          <p style="color: #666; margin-bottom: 24px; line-height: 1.6;">
            ç¾åœ¨ã®åå…¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ãè¤‡æ•°ã‚·ãƒŠãƒªã‚ªã®äºˆæ¸¬åˆ†æ
          </p>
          
          <div style="background: #e3f2fd; padding: 20px; border-radius: 12px; border-left: 4px solid #2196f3;">
            <h4 style="color: #1565c0; margin-bottom: 12px;">ğŸ’¡ é«˜åº¦ãªã‚·ãƒŠãƒªã‚ªåˆ†ææ©Ÿèƒ½</h4>
            <p style="color: #1976d2; margin-bottom: 16px;">
              AIã‚’æ´»ç”¨ã—ãŸäºˆæ¸¬åˆ†ææ©Ÿèƒ½ã¯ç¾åœ¨é–‹ç™ºä¸­ã§ã™ã€‚è¿‘æ—¥ä¸­ã«ãƒªãƒªãƒ¼ã‚¹äºˆå®šã§ã™ã€‚
            </p>
            <div style="font-size: 14px; color: #1565c0;">
              <strong>å®Ÿè£…äºˆå®šæ©Ÿèƒ½:</strong>
              <ul style="margin-left: 20px; margin-top: 8px;">
                <li>æœˆåˆ¥åå…¥å¤‰å‹•ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</li>
                <li>æœ€é©åŠ´åƒæ™‚é–“ã®ææ¡ˆ</li>
                <li>ç¨åˆ¶å¤‰æ›´ã«ã‚ˆã‚‹å½±éŸ¿åˆ†æ</li>
                <li>ç¤¾ä¼šä¿é™ºæ–™è² æ‹…ã®äºˆæ¸¬</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // ç¾åœ¨ã®æ‰¶é¤Šãƒ‡ãƒ¼ã‚¿ï¼ˆå®Ÿéš›ã®APIã‹ã‚‰å–å¾—äºˆå®šï¼‰
      const fuyouData = {
        currentIncome: 650000,
        limit: 1030000,
        monthlyTarget: 85833,
        projectedYear: 980000,
        riskLevel: 'safe'
      };

      // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
      document.addEventListener('DOMContentLoaded', function() {
        updateFuyouStatus();
        animateProgressBar();
        
        // ç¾åœ¨æ—¥æ™‚ã‚’è¡¨ç¤º
        const now = new Date();
        document.getElementById('calculationDate').textContent = 
          now.toLocaleDateString('ja-JP', { 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric' 
          });
      });

      // æ‰¶é¤Šã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®æ›´æ–°
      function updateFuyouStatus() {
        const usageRate = (fuyouData.currentIncome / fuyouData.limit) * 100;
        const remainingAmount = fuyouData.limit - fuyouData.currentIncome;
        const monthlyIncome = Math.floor(fuyouData.currentIncome / 12);
        
        // ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸è¡¨ç¤ºã®æ›´æ–°
        const percentageElement = document.getElementById('usagePercentage');
        const statusIcon = document.getElementById('statusIcon');
        
        percentageElement.textContent = usageRate.toFixed(1) + '%';
        
        // ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸè‰²ã¨ã‚¢ã‚¤ã‚³ãƒ³ã®å¤‰æ›´
        if (usageRate < 70) {
          percentageElement.className = 'percentage-value success';
          statusIcon.textContent = 'ğŸ›¡ï¸';
        } else if (usageRate < 85) {
          percentageElement.className = 'percentage-value warning';
          statusIcon.textContent = 'âš ï¸';
        } else {
          percentageElement.className = 'percentage-value danger';
          statusIcon.textContent = 'ğŸš¨';
        }

        // ãã®ä»–ã®å€¤ã‚’æ›´æ–°
        document.getElementById('currentIncome').textContent = 
          'Â¥' + fuyouData.currentIncome.toLocaleString();
        document.getElementById('remainingCapacity').textContent = 
          'Â¥' + remainingAmount.toLocaleString();
        document.getElementById('monthlyIncome').textContent = 
          'Â¥' + monthlyIncome.toLocaleString();
        document.getElementById('monthlyTarget').textContent = 
          'Â¥' + fuyouData.monthlyTarget.toLocaleString();
        document.getElementById('yearProjection').textContent = 
          'Â¥' + fuyouData.projectedYear.toLocaleString();

        // äºˆæ¸¬ã‚¢ãƒ©ãƒ¼ãƒˆã®è¡¨ç¤ºåˆ¤å®š
        if (fuyouData.projectedYear > fuyouData.limit) {
          const overage = fuyouData.projectedYear - fuyouData.limit;
          document.getElementById('predictionAlert').style.display = 'block';
          document.getElementById('overageAmount').textContent = 
            'Â¥' + overage.toLocaleString();
          document.getElementById('recommendedMonthly').textContent = 
            'Â¥' + Math.floor(fuyouData.limit / 12).toLocaleString();
        }
      }

      // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
      function animateProgressBar() {
        setTimeout(() => {
          const usageRate = (fuyouData.currentIncome / fuyouData.limit) * 100;
          const progressBar = document.getElementById('progressBar');
          progressBar.style.width = usageRate + '%';
          
          // ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸè‰²ã®å¤‰æ›´
          if (usageRate >= 85) {
            progressBar.className = 'progress-fill danger';
          } else if (usageRate >= 70) {
            progressBar.className = 'progress-fill warning';
          } else {
            progressBar.className = 'progress-fill';
          }
        }, 500);
      }

      // è¨ˆç®—æ ¹æ‹ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã
      function openCalculationModal() {
        document.getElementById('calculationModal').style.display = 'flex';
      }

      // è¨ˆç®—æ ¹æ‹ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‰ã˜ã‚‹
      function closeCalculationModal() {
        document.getElementById('calculationModal').style.display = 'none';
      }

      // ã‚·ãƒŠãƒªã‚ªåˆ†æãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã
      function openScenarioModal() {
        document.getElementById('scenarioModal').style.display = 'flex';
      }

      // ã‚·ãƒŠãƒªã‚ªåˆ†æãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‰ã˜ã‚‹
      function closeScenarioModal() {
        document.getElementById('scenarioModal').style.display = 'none';
      }

      // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®å¤–å´ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦é–‰ã˜ã‚‹
      document.getElementById('calculationModal').addEventListener('click', function(e) {
        if (e.target === this) {
          closeCalculationModal();
        }
      });

      document.getElementById('scenarioModal').addEventListener('click', function(e) {
        if (e.target === this) {
          closeScenarioModal();
        }
      });

      // ã‚«ãƒ¼ãƒ‰ãƒ›ãƒãƒ¼åŠ¹æœã®è¿½åŠ 
      document.querySelectorAll('.metric-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
          this.style.transform = 'translateY(-6px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', function() {
          this.style.transform = 'translateY(0) scale(1)';
        });
      });

      console.log('ğŸ›ï¸ ç¨ç†å£«ç›£ä¿®æ‰¶é¤Šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–å®Œäº†');
      console.log('ğŸ“Š ç¾åœ¨ã®ä½¿ç”¨ç‡:', ((fuyouData.currentIncome / fuyouData.limit) * 100).toFixed(1) + '%');
    </script>
    
    <!-- Force deploy: Tue Jul 22 16:45:00 JST 2025 -->
  </body>
</html>