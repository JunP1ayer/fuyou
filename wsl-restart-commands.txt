# WSL2再起動とmirrored mode適用手順
# PowerShellで管理者権限で実行してください

# 1. WSL2を完全にシャットダウン
wsl --shutdown

# 2. Hyper-V ファイアウォール設定
Set-NetFirewallHyperVVMSetting -Name '{40E0AC32-46A5-438A-A0B2-2B479E8F2E90}' -DefaultInboundAction Allow

# 3. WSL2再起動（自動的に新しい設定が適用される）
wsl

# 注意: .wslconfig ファイルは既に作成済み
# C:\Users\junju\.wslconfig に以下の内容で保存されています:
# [wsl2]
# networkingMode=mirrored
# dnsTunneling=true
# autoProxy=true
# localhostForwarding=true

# 4. サーバー再起動コマンド（WSL2内で実行）
# cd /mnt/c/Users/junju/OneDrive/Desktop/fuyou/fuyou/frontend
# node simple-http-server.cjs

# 5. 期待されるアクセスURL（mirrored mode後）
# http://localhost:3002/optimization-demo.html
# http://127.0.0.1:3002/optimization-demo.html